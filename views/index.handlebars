<div class="container">
    <div class="row">
        <div class="col-xs-12 text-center">
            <h1>Burgers!</h1>
        </div>
    </div>
    <div class="row">
        {{#each burgers}}
        {{#unless this.devoured}}
        <div class="burgers col col-sm-12">
            <div class="col col-sm-6">
                <img class="burger-img img-responsive" src="/assets/img/burger.png" alt="Burger Image">
                <p class="burgers-name">{{this.name}}</p>
            </div>
            <div class="col col-sm-3">
                <form action="burgers/devour/{{this.id}}?_method=PUT" method="POST">
                    <input type="hidden" name="devoured" value="true">
                    <button class="btn btn-sm btn-success center-block" type="submit">Devour It!</button>
                </form>
            </div>
            <div class="col col-sm-3">
                <form action="burgers/clear/{{this.id}}?_method=DELETE" method="POST">
                    <input type="hidden" name="id" value="{{this.id}}">
                    <button class="btn btn-sm btn-danger center-block" type="submit">Remove Burger?</button>
                </form>
            </div>
        </div>
        {{/unless}}
        {{/each}}
    </div>
    <dic class="row">
        <div class="col-xs-8 text-center">
            <form class="create-form">
                <div class="form-group">
                    <label for="new-burger">Burgers!</label>
                    <input type="text" id="new-burger" name="burger">
                    <button class="btn btn-dark" id="add-burger"></button>
                </div>
            </form>
        </div>
</div>
</div>

<script type="text/javascript">

    $(function () {
        $(".create-form").on("submit", function (event) {
            event.preventDefault();
            var newBurger = {
                burger_name: $("#new-burger").val().trim(),
                devoured: 0
            };
            $.ajax("/api/burgers", {
                type: "POST",
                data: newBurger
            }).then(function () {
                location.reload();
            })

        })
    })

</script>